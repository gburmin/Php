<h2>Корзина</h2>
{% for item in basket %}
    <div id= {{item.basket_id}}>
        {{item.name}}<br>
        {{item.description}}<br>
        <button data-id="{{item.basket_id}}" class="delete"> Удалить </button>
    </div>
    <hr>
{%endfor%}
<button class='formOrder'>Оформить заказ</button>
<form class='hidden' id='formWithPhone' action='#' method='post'>
    <input name='phone' placeholder="Введите ваш номер телефона">
    <input type="submit" name="ok">
</form>
<script>
 let buttons = document.querySelectorAll('.delete');
 buttons.forEach((elem) => {
   elem.addEventListener('click', () =>
   {
     let id = elem.getAttribute('data-id');
     (
       async () => {
         const response = await fetch('/basket/delete/?id=' + id);
         const answer = await response.json();
         document.getElementById(id).remove();
         document.getElementById('count').innerText = answer.count;
       }
     )();
   })
 })
</script>